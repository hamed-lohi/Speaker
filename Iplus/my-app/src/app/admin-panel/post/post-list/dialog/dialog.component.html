
<mat-accordion class="example-headers-align">

  <mat-expansion-panel hideToggle  expanded="true">
    <mat-expansion-panel-header>
      <mat-panel-title>
        پست
      </mat-panel-title>
      <mat-panel-description>
        اطلاعات پست
        <mat-icon color="primary" >account_circle</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <h2 mat-dialog-title>

      <img *ngIf="data.ImageUrl" [src]="data.ImageUrl" height="200" />
      <mat-icon *ngIf="!data.ImageUrl" class="example-icon photo">photo</mat-icon>
      <!--<div class="container">
      <button md-raised-button color="primary" (click)="fileInput.click()">Upload</button>
      <input id="ImageUrl" hidden type="file" (change)="onSelectFile($event)" #fileInput>-->
      <button mat-mini-fab color="warn" *ngIf="data.ImageUrl" mat-stroked-button matTooltip="حذف تصویر" matTooltipShowDelay="700" color="warn" (click)="deleteImage(data.ImageFileId)">
        <mat-icon class="example-icon">clear</mat-icon>
      </button>
      <!--<input *ngIf="!data.ImageUrl" type='file' (change)="handleFileInput($event.target.files)">-->
      <input *ngIf="!data.ImageUrl" type='file' id="ImageFileIdField" #ImageFileIdField (change)="handleFileInput(ImageFileIdField, 106)">
      <!--</div>-->
      <!--<angular-file-uploader
            [config]="afuConfig"
            [resetUpload]=resetVar
            (ApiResponse)="DocUpload($event)">
      </angular-file-uploader>-->

    </h2>

    <div fxLayout="row wrap" fxLayoutAlign="space-around start">

      <mat-form-field fxFlex="100">
        <input matInput placeholder="عنوان پست" [(ngModel)]="data.Title" required >
      </mat-form-field>

      <section class="example-section">
        <mat-checkbox class="example-margin" [(ngModel)]="data.IsPublished" matTooltip="انتشار" matTooltipPosition="left">انتشار</mat-checkbox>
      </section>

      <mat-form-field>
        <mat-select placeholder="نوع پست" [(ngModel)]="data.SSPostType">
          <mat-option *ngFor="let item of selectListPostTypes" [value]="item.Id">
            {{item.Text}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <input matInput type="number" placeholder="اولویت" [(ngModel)]="data.Priority">
      </mat-form-field>

      <mat-form-field>
        <input matInput disabled="disabled" placeholder="تعداد بازدید" [(ngModel)]="data.ViewCount">
      </mat-form-field>

    </div>

    <!--<mat-action-row>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>-->
</mat-expansion-panel>

  <mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        خلاصه پست
      </mat-panel-title>
      <mat-panel-description>
        خلاصه پست
        <mat-icon color="primary" >school</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <ckeditor [(ngModel)]="data.Summary" 
              #myckeditor="ngModel"
              name="myckeditor"
              required
              [config]="ckeConfig" 
              debounce="500" 
              (change)="onChange($event)">
    </ckeditor>

    <!--<mat-action-row>
      <button mat-button color="primary" (click)="nextStep()">Next</button>
    </mat-action-row>-->
  </mat-expansion-panel>

  <mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        متن پست
      </mat-panel-title>
      <mat-panel-description>
        متن پست
        <mat-icon color="primary" >person</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <ckeditor [(ngModel)]="data.Text"
              #myckeditor="ngModel"
              name="myckeditor"
              required
              [config]="ckeConfig"
              debounce="500"
              (change)="onChange($event)">
    </ckeditor>

    <!--<mat-action-row>
      <button mat-button color="warn" (click)="prevStep()">Previous</button>
      <button mat-button color="primary" (click)="nextStep()">Next</button>
    </mat-action-row>-->
  </mat-expansion-panel>

</mat-accordion>


<!--<section class="example-section">
  <mat-progress-bar
    class="example-margin"
    color="primary"
    mode="indeterminate"
    value="50"
    bufferValue="75">
  </mat-progress-bar>
</section>-->

<div mat-dialog-actions>
  <button mat-raised-button [mat-dialog-close]="data" cdkFocusInitial><mat-icon color="primary" class="example-icon">save</mat-icon>ذخیره</button>
  <button mat-raised-button (click)="onNoClick()"><mat-icon color="primary" class="example-icon">cancel</mat-icon>لغو</button>
</div>
